#!/usr/bin/python
import subprocess
import sys
if len(sys.argv) != 2:
  host=input("Ingrese host: ")
else:
  host=str(sys.argv[1])
cmd="ping -c 1 "+host
p = subprocess.Popen(cmd,shell=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)

for line in p.stdout.readlines():
  if line.find("ttl=") != -1:
    rompeline=line.split(" ")
    for tmp in rompeline:
      if tmp.find("ttl=") != -1:
        ttl=tmp.split("=")
        if (int(ttl[-1])>64 and int(ttl[-1])<=128):
          print "Windows"
        if (int(ttl[-1])>0 and int(ttl[-1])<=64):
          print "Linux"
        if int(ttl[-1]) ==255:
          print "Solaris"

